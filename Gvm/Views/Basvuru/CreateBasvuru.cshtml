@model Gvm.Models.BasvuruViewModel

@{
    ViewBag.Title = "Gönüllü Verici Kaydı";
    Layout = "~/Views/Shared/_Layout.cshtml";
}

<aside class="right-side"> 
    <section class="content-header">
        <h1> Basvuru </h1>
    </section>
     
    <section class="content">
        <div class="row">
            <div class="col-md-12">
                <div class="box box-primary">
                    <div class="box-header">
                        <i class="fa fa-user"></i>
                        <h3 class="box-title">Yeni basvuru</h3>
                    </div> 
                    <div class="box-body">
                        @using (Html.BeginForm("CreateBasvuru", "Basvuru", FormMethod.Post))
                        {
                            @Html.AntiForgeryToken()
                            @Html.ValidationMessage("Error")
                            @Html.HiddenFor(model => model.Active)

                            <div class="form-horizontal"> 
                                @Html.ValidationSummary(true, "", new { @class = "text-danger" })
                                <div class="form-group">
                                    @Html.LabelFor(model => model.GonulluVerici.AdiSoyadi, htmlAttributes: new { @class = "control-label col-md-2" })
                                    <div class="col-md-10">
                                        @Html.EditorFor(model => model.GonulluVerici.AdiSoyadi, new { htmlAttributes = new { @class = "form-control" } })
                                        @Html.ValidationMessageFor(model => model.GonulluVerici.AdiSoyadi, "", new { @class = "text-danger" })
                                    </div>
                                </div>

                                <div class="form-group">
                                    @Html.LabelFor(model => model.GonulluVerici.TcKimlikNo, htmlAttributes: new { @class = "control-label col-md-2" })
                                    <div class="col-md-10">
                                        @*<input type="text" id="tckimlik" class="form-control" data-inputmask="'mask': ['31246489748']" data-mask />*@
                                        @Html.EditorFor(model => model.GonulluVerici.TcKimlikNo, new { htmlAttributes = new { @class = "form-control" } })
                                        @Html.ValidationMessageFor(model => model.GonulluVerici.TcKimlikNo, "", new { @class = "text-danger" })
                                    </div>
                                </div>

                                <div class="form-group">
                                    @Html.LabelFor(model => model.GonulluVerici.DogumTarihi, htmlAttributes: new { @class = "control-label col-md-2" })
                                    <div class="col-md-10">
                                        <input type="text" class="form-control" id="GonulluVerici_DogumTarihi" name="GonulluVerici.DogumTarihi" data-inputmask="'alias': 'dd/mm/yyyy'" data-mask />
                                        @Html.ValidationMessageFor(model => model.GonulluVerici.DogumTarihi, "", new { @class = "text-danger" })
                                    </div>
                                </div>

                                <div class="form-group">
                                    @Html.LabelFor(model => model.GonulluVerici.Yas, htmlAttributes: new { @class = "control-label col-md-2" })
                                    <div class="col-md-10">
                                        @Html.EditorFor(model => model.GonulluVerici.Yas, new { htmlAttributes = new { @class = "form-control" } })
                                        @Html.ValidationMessageFor(model => model.GonulluVerici.Yas, "", new { @class = "text-danger" })
                                    </div>
                                </div>

                                <div class="form-group">
                                    @Html.LabelFor(model => model.GonulluVerici.Cinsiyet, htmlAttributes: new { @class = "control-label col-md-2" })
                                    <div class="col-md-10">
                                        @Html.EnumDropDownListFor(model => model.GonulluVerici.Cinsiyet,"Cinsiyet seciniz", htmlAttributes: new { @class = "form-control" })
                                    </div>
                                </div>

                                <div class="form-group">
                                    <label class="control-label col-md-2" for="GonulluVerici_AdiSoyadi">Verici Merkezleri</label>
                                    <div class="col-md-10">
                                        @Html.DropDownListFor(x => x.SelectedGonulluVericiMerkezi, Model.GonulluVericiMerkezleri, "Gonullu verici merkezi seciniz", new { @class = "form-control" })
                                    </div>
                                </div>

                                <script>
                                    var merkez = $('select#VericiMerkeziId');
                                    var merkezId = merkez.data('val');

                                    if (merkezId != '') merkez.val(merkezId);
                                </script>

                                <div class="form-group">
                                    <div class="col-md-offset-2 col-md-10">
                                        <input type="submit" value="Oluştur" class="btn btn-default" />
                                    </div>
                                </div>
                            </div>
                        }
                    </div>
                    </div>
            </div>
        </div>
    </section>
</aside>